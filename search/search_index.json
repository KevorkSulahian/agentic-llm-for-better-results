{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"FinMAS - Financial Analysis Multi-agent System","text":"<p>This app uses LLM agents organized in a multi-agent system to analyze financial data and perform financial tasks. The app is developed during the final capstone project of the WorldQuant MSc in Financial Engineering.</p> <p>It is meant as a practical and educational app that demonstrates the state-of-the-art of LLM models applied to tasks in the financial domain, and with an extra focus on open source models and packages.</p> <p>Please visit GitHub repo for further information.</p> <p>See our Tutorial to get started, and see some example outputs to understand better what the multi-agent systems can do.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Extracting insights from unstructured data: Analyze unstructured data such as SEC filings and   News articles together with fundamental company data.</li> <li>Transparent: Get insight into token usage, performance and the data fed to the system to gain confidence in the result.</li> <li>Configurable: Adjust parameters and model selection to optimize the performance of the system.</li> <li>Ticker focused: Select a major ticker listed on NASDAQ or NYSE for analysis.</li> <li>Multiple LLMs supported: Use LLM from an hosted provider such as Groq or HuggingFace, or OpenAI GPT models.</li> <li>Multiple agent systems supported: Use defined crews of agents to perform dedicated analysis on   news or SEC filings, or combine them for a final analysis.</li> <li>Query directly the data source: Use the same tool as the agents to query the data source directly from the UI.   Powered by llama-index's query engine.</li> </ul> <p>The following screenshots illustrate a output from a combined analysis crew and the main dashboard.</p>"},{"location":"#combined-analysis","title":"Combined analysis","text":""},{"location":"#main-dashboard","title":"Main dashboard","text":""},{"location":"configuration/","title":"Configuration","text":"<p>The default parameters of the app can be set up in the config.yaml</p> <p>Some of the most important parameters are explained here:</p> <ul> <li>Embedding model: An embedding model can be set for the news data and the SEC filing separately.</li> <li>Similarity Top K: This setting determines how many of similar chunks of data are sent to the LLM to solve the task.</li> <li>LLM Provider: Mainly choose <code>groq</code> or <code>openai</code> for providing LLM model. HuggingFace support is not recommended because larger models are generally not available.</li> <li>LLM Model: The LLM to be used for the agents in the crew and the query engines. The default is <code>llama3-8b-8192</code> from <code>groq</code>.</li> <li>LLM Temperature: This controls the randomness of an LLM. 0 is more deterministic, while 1 is more random.</li> <li>LLM Max tokens: Limit for the number of tokens to be generated by the LLM.</li> <li>tickers_market_cap_exclude: The market cap categories that are excluded from the <code>financedatabase</code> table for picking ticker.</li> </ul>"},{"location":"development/","title":"Development","text":"<p>The project setup is inspired by both Python for Data Science and the Learn Scientific Python project. These projects give guidelines to how to set up a research project that is reproducible and with good quality.</p> <p>Commit messages are encouraged to follow the Conventional Commits specification.</p>"},{"location":"development/#styling-and-pre-commit","title":"Styling and pre-commit","text":"<p>To maintain the code quality when committing to the repo we use pre-commit with ruff, type checking for script files and formatting of pyproject.toml file. This ensures that these code quality tools are run before any commit.</p> <p>The configuration is stored in <code>.pre-commit-config.yaml</code>, and to set up the git hook scripts simply run the following in the virtual environment:</p> <pre><code>pre-commit install\n</code></pre> <p>The pre-commits can be run on all files before committing by this command:</p> <pre><code>pre-commit run --all-files\n</code></pre>"},{"location":"components/","title":"Components","text":""},{"location":"components/#architecture","title":"Architecture","text":"<p>The app is developed in a component-based fashion where dedicated components are each responsible for a separate part of the system. This makes it easier to further extend the system if needed with additional functionality within each component. Each component has its respective folder in the codebase. The main architecture of the app consists of 4 main components:</p> <ul> <li>panel: Component that handles the user interface, all user interactions, and data visualization.   The component configures the system with default settings and lets the user further customize the system.</li> <li>crews: Component that is responsible for setting up and running dedicated   Multi-agent systems (crews) that either focus on a specific data source or multiple data sources.   Tools that the Agents use to perform their tasks are defined here.</li> <li>data: This component focuses on fetching and processing data from sources such as SEC filings, Benzinga News,   Alpha Vantage API, and Yahoo Finance.</li> <li>utils: The objective of this component is to gather helper functions that are used across the   different components in a common place.</li> </ul> <pre><code>---\nconfig:\n  layout: elk\n  theme: base\n  look: classic\n---\nflowchart TD\n    P[\"fa:fa-desktop panel\"] --&gt; F\n    L[\"fa:fa-comment-dots LLMs\"] --&gt; C\n    C[\"fa:fa-users crews\"] --&gt; F[\"fa:fa-sitemap FinMAS\"]\n    FA[\"fa:fa-chart-simple Market Data\"] --&gt; D\n    S[\"fa:fa-file SEC Filings\"] --&gt; D\n    N[\"fa:fa-newspaper News\"] --&gt; D\n    D[\"fa:fa-database data\"] --&gt; F\n    U[\"fa:fa-wrench utils\"] --&gt; F\n\n    classDef lightBlue fill:#ADD8E6,stroke:black\n    class N,FA,L,S lightBlue\n\n    classDef strokeBlack stroke:black\n    class P,C,D,U strokeBlack\n\n    style F fill:#4CAF50,stroke:black\n</code></pre>"},{"location":"components/crews/","title":"Crew - Multi-agent System","text":"<p>This page explains the general aspects of a crew of LLM agents, and particularly with respect to financial tasks.</p> <p>For more information about the specific crews in the FinMAS app, click here.</p>"},{"location":"components/crews/#configuration","title":"Configuration","text":"<p>The configuration of a crews consists of defining the agents, the tasks and which tools each agent can use to solve their assigned tasks.</p> <p>The performance of a configuration of agents and tasks depend a lot on which LLM model is used for the agent executing the task. For example an Agent configuration can work very well for <code>gpt-4o-mini</code> while for <code>llama-3.2-8b</code> there is likely another configuration that will work better.</p>"},{"location":"components/crews/#agents","title":"Agents","text":"<p>According to the CrewAI framework, agents are defined with a name, role, and a backstory. This gives the agents a pre-defined setup that guides the agents in how they should go about solving the tasks they are assigned.</p> <p>It is important that the wording of the configuration is clear and concise, as each word will be given to the agent and thus uses up space in the context window for the LLM. Therefore, it is important to avoid writing general terms and vague wording.</p>"},{"location":"components/crews/#tasks","title":"Tasks","text":"<p>A task is defined by a name, a description, and an expected output format. As with the agent configuration, it is important to be clear and concise in the wording as each word will be given to the LLM, and slight variations in the wording can lead to different results.</p> <p>It is important to define in detail what the expected output format and what the content should be.</p>"},{"location":"components/crews/#tools","title":"Tools","text":"<p>The agents can use assigned tools to solve their tasks. The tools in this project consists of fetching data from a dedicated data source. The tools include preprocessing of the data so that an LLM can better extract the information needed to solve the task.</p>"},{"location":"components/embedding_models/","title":"Embedding Models","text":"<p>For the FinMAS system to be successful, the relevant data needs to be sent to the LLM agents together with the task that the LLM agents are set to perform. For the system to make a best effort to find the most relevant data for the query, it uses embedding models to convert textual data into dense numerical representations that we call embeddings. The main concept is that by storing the data as numerical vectors, the model would be able to estimate which parts of the data are similar to each other and which part of the data are very different from each other.</p> <p>The choice of embedding model can significantly affect the result from the analysis done by the Multi-Agent system, as the model is responsible for finding the relevant data to sent to the LLM agent.</p>"},{"location":"components/embedding_models/#openai-embedding-model","title":"OpenAI embedding model","text":"<p>If an OpenAI model is used, then an embedding model of OpenAI will be used. The default embedding model is set to text-embedding-3-small which is most cost-effective option from OpenAI. There is also an option to use <code>text-embedding-3-large</code>, and these embedding models were released early in 2024. We generally do not recommend to use the <code>text-embedding-ada-002</code> model as it is not as cost-effective.</p>"},{"location":"components/embedding_models/#huggingface-embedding-models","title":"HuggingFace embedding models","text":"<p>The user can choose from a pre-defined selection of embedding models that are retrieved from HuggingFace. When an embedding model is retrieved from HuggingFace it will be downloaded locally to the directory set in the <code>embedding_models_dir</code>.</p> <p>The default option is to use BAAI/bge-small-en-v1.5 This model is developed by Beijing Academy of Artificial Intelligence (BAAI) and is a small English text embedding model. It has a maximum sequence length of 512 tokens and outputs a vector representation with a dimension of 384.</p>"},{"location":"components/llm_models/","title":"Large Language Models","text":""},{"location":"components/llm_models/#openai-gpt-4o-and-gpt-4o-mini","title":"OpenAI gpt-4o and gpt-4o-mini","text":""},{"location":"components/llm_models/#llama","title":"Llama","text":""},{"location":"components/packages/","title":"Packages","text":"<p>The following sections include a short description about key packages that are used in this project. We highlight why and how these packages are used in the project.</p>"},{"location":"components/packages/#crewai","title":"crewAI","text":"<p>crewAI is a multi-agent orchestration package that provides a framework for how a system (or a crew of agents) can be defined and executed. The main components of the framework are Agents, Tasks, Tools, and Crew.</p> <p>Each Agent is configured with a Role, Goal and Backstory that guides the agent to how it will approach and solve Tasks that are given to it. Tasks are defined with a Description and Desired Output.</p> <p>A essential part of an autonoumous agent is the ability to use specified tools to solve the tasks. In the FinMAS system the Agents are given tools to fetch news data and SEC filing data.</p> <p>The Agents, Tasks, and Tools are then put together in a Crew than can receive some input data and will work to solve the tasks given to them.</p>"},{"location":"components/packages/#llama-index","title":"llama-index","text":"<p>A powerful use-case for LLMs is when the LLMs are fed custom data to solve their task. By doing this it is possible to adapt an LLM to solve unique tasks that would otherwise not be possible for a general-purpose LLM that only have access to the data that it was trained on.</p> <p>llama-index is a package that provides a framework for developing RAG applications where the goal is to make it easy for the user to import custom data and transform that data into a Vector Store by using an embedding model. After the data is transformed, the framework provides capabilities for how to connect the Vector Store with LLMs so that it is possible to query or have a chat with the data.</p>"},{"location":"components/packages/#panel","title":"panel","text":"<p>Developing a user interface for any app with a lot of data and configuration can be quite time consuming. Therefore, we use the panel package, which is a web app framework focused on data science applications. There are numeruous web frameworks available in Python, however, panel provides some unique features in terms of advanced data visualization and interactivity that makes it favorable to use for our project where we want to present information on multiple tabs and in an interactive manner.</p>"},{"location":"components/query_engine/","title":"Query Engine","text":"<p>The Query Engine tab of the app allows the user to query the data source directly from the UI. It is possible to choose the News data that is loaded, or a section from the selected SEC filing. First, it is necessary to create a Vector Store Index before the data can be queried with the LLM and the query engine. Some example of queries are shown on the page to get started.</p> <p>This is a great tool to investigate which type of description should be used for the tasks that are given to the LLM agents.</p> <p></p>"},{"location":"crews/","title":"FinMAS Crews","text":"<p>In the FinMAS app we have configured 4 different crews that can be used to analyze the data using the LLM agents. Click on the individual crew to see the details of how each crew is defined in terms of agents and tasks.</p> <p>To see more general information about the crews, click here.</p> <p>The crews are defined in the crews subpackage in the code repository.</p> Crew Description Market Data Technical and fundamental analysis summary News Summary and sentiment analysis of Benzinga News SEC MD&amp;A and Risk Factors Analyze MD&amp;A and Risk Factors sections from a single SEC 10-K or 10-Q filing Combined Combine all the data sources and provide a final stock recommendation"},{"location":"crews/combined/","title":"Combined Analysis Crew","text":"<p>The Combined Analysis crew is similar to the Market Data crew, but it also includes agents that can analyze news articles and the selected SEC filing. The main goal of this crew is to provide a final stock recommendation based on the analysis of all the data sources. The crew is restricted to 5 agents, and token usage on this crew can be quite high as it combines multiple data sources. So it it's suggested to test this crew using a free alternative for LLM model before using a paid LLM.</p> <p>Illustration of the Combined Analysis crew:</p> <pre><code>---\nconfig:\n  layout: elk\n  look: classic\n  theme: neutral\n---\nflowchart LR\n    AV[\"Alpha Vantage\"] --&gt; F\n    TA[\"Yahoo Finance\"] --&gt; T\n    B[\"Benzinga News\"] --&gt; N\n    E[\"EDGAR SEC Filings\"] --&gt; MDA\n    N[\"fa:fa-newspaper News Analyst\"] --&gt; A[\"fa:fa-user Stock Advisor\"]\n    T[\"fa:fa-chart-line Technical Analyst\"] --&gt; A\n    F[\"fa:fa-chart-simple Fundamental Analyst\"] --&gt; A\n    MDA[\"fa:fa-comment-dots SEC Analyst - MD&amp;A\"] --&gt; A\n\n    classDef lightBlue fill:#ADD8E6,stroke:black\n    class A lightBlue\n\n    classDef beige fill:#F5F5DC,stroke:black\n    class AV,TA,B,E beige\n</code></pre> <p></p>"},{"location":"crews/combined/#exec-1--agents","title":"Agents","text":""},{"location":"crews/combined/#exec-1--news-analyst","title":"News Analyst","text":"<ul> <li>Role: Financial News Analyst</li> <li>Goal: Extract and analyze key information from individual news items to provide a deep understanding of events impacting the company {ticker}.</li> <li>Backstory: You are an experienced financial news analyst with a strong focus on identifying key events and interpreting their implications for a company's financial performance and market standing.</li> </ul>"},{"location":"crews/combined/#exec-1--sec-filing-analyst","title":"SEC Filing Analyst","text":"<ul> <li>Role: SEC Filing Management's Discussion and Analysis Section Analyst</li> <li>Goal: Analyze {ticker}'s {form} SEC filing to extract information from the Management's Discussion and Analysis section.</li> <li>Backstory: You are an expert in analyzing the Management's Discussion and Analysis (MD&amp;A) section of SEC filings. Your deep understanding of this section allows you to extract critical insights about a company's performance, strategic direction, and management's perspective on future risks and opportunities. Your expertise helps stakeholders gain a nuanced understanding of the company's operational and financial outlook.</li> </ul>"},{"location":"crews/combined/#exec-1--fundamental-analyst","title":"Fundamental Analyst","text":"<ul> <li>Role: Fundamental Analyst</li> <li>Goal: Analyze {ticker}'s fundamental data to evaluate the company's profitability and growth potential.</li> <li>Backstory: You are an expert in fundamental analysis of stocks and have a strong understanding of key financial metrics such as revenue growth, earnings per share, and net profit margin.</li> </ul>"},{"location":"crews/combined/#exec-1--technical-analyst","title":"Technical Analyst","text":"<ul> <li>Role: Technical Analyst</li> <li>Goal: Analyze {ticker}'s historical price data to identify trends and patterns that can help predict future price movements.</li> <li>Backstory: You are an expert in technical indicators for stock prices, and use them to analyze the trend, momentum and volatility of stocks.</li> </ul>"},{"location":"crews/combined/#exec-1--stock-advisor","title":"Stock Advisor","text":"<ul> <li>Role: Stock Advisor</li> <li>Goal: Provide investment recommendations to whether buy, sell, or hold {ticker} based on news, information from SEC filing, fundamental market data and technical analysis.</li> <li>Backstory: You are a world class stock picker and provide advice to clients based on a comprehensive analysis of news, SEC filings, fundamental data, and technical indicators.</li> </ul>"},{"location":"crews/combined/#exec-1--tasks","title":"Tasks","text":""},{"location":"crews/combined/#exec-1--news-analysis","title":"News Analysis","text":"<ul> <li>Description: Analyze the latest news articles related to {ticker} to understand the current market sentiment and potential impact on the stock price. Use the provided tool to analyze the news sentiment, key topics, and the overall market sentiment towards the company. Use the latest news data available to analyze the impact on the stock price.</li> <li>Expected Output: The final answer should be a summary of the market sentiment towards the company based on the latest news articles. Highlight key topics and sentiments that could impact the stock price in the short term.</li> <li>Agent: news_analyst</li> </ul>"},{"location":"crews/combined/#exec-1--sec-filing-analysis","title":"SEC Filing Analysis","text":"<ul> <li>Description: Analyze the {form} SEC filing for the stock ticker {ticker} by using your assigned tool. Focus on the section Management's Discussion and analysis. Extract information about the growth in key market segments, and forward-looking statements from management. Include information about any key products and forward-looking statements from management.</li> <li>Expected Output: The final answer should be a report that includes information about market segments, management discussion, and forward-looking statements from management.</li> <li>Agent: sec_filing_analyst</li> </ul>"},{"location":"crews/combined/#exec-1--fundamental-analysis","title":"Fundamental Analysis","text":"<ul> <li>Description: Analyze {ticker}'s fundamental data to evaluate the company's profitability and growth potential. Use the provided tool to analyze total revenue, net income, earnings per share, net profit margin, and possibly other key financial metrics. Use available Trailing Twelve Months (TTM) data in your analysis if necessary.</li> <li>Expected Output: The final answer should be a summary of the company's financial health and growth prospects based on the data available.</li> <li>Agent: fundamental_analyst</li> </ul>"},{"location":"crews/combined/#exec-1--technical-analysis","title":"Technical Analysis","text":"<ul> <li>Description: Analyze {ticker}'s historical price data to predict future price movements. Use the provided tool to analyze price trends, momentum, and volatility. For momentum use the RSI indicator, and for volatility use the Bollinger Bands percentage indicator. Use the available historical price data in the tool to analyze the stock's price movements.</li> <li>Expected Output: The final answer should be a summary of the company's price trends and potential future price movements based on the data available.</li> <li>Agent: technical_analyst</li> </ul>"},{"location":"crews/combined/#exec-1--stock-advisor-task","title":"Stock Advisor Task","text":"<ul> <li>Description: Analyze {ticker}'s fundamental and technical data to provide a recommendation on whether to buy, sell, or hold the stock. Use the information from SEC Filing and News analysis to provide a comprehensive view of the stock's investment potential.</li> <li>Expected Output: The final answer should be a recommendation (buy, sell, or hold) based on the analysis of the company's profitability, historical fundamental data and technical indicators. The recommendation should be supported by the data available, and should be clear and concise. Highlight the latest fundamental data, technical data, news information, and SEC filing information that support your recommendation.</li> <li>Agent: stock_advisor</li> </ul>"},{"location":"crews/market_data/","title":"Market Data Analysis Crew","text":"<p>The market data crew focus on fundamental and technical analysis of the specified ticker. The data is formatted into a Markdown table and subsequently fed to the LLM agents for interpretation and analysis. The end goal is to produce a summary based on the market data, and argue for a buy, sell, or hold recommendation.</p> <p>Illustration of the Market Data Analysis crew:</p> <pre><code>---\nconfig:\n  look: classic\n  theme: neutral\n---\nflowchart LR\n    AV[\"Alpha Vantage Data\"] --&gt; F[\"Fundamental Analyst\"]\n    F --&gt; A[\"Stock Advisor\"]\n    TA[\"Yahoo Finance Price Data\"] --&gt; T[\"Technical Analyst\"]\n    T --&gt; A\n\n    classDef beige fill:#F5F5DC,stroke:black\n    class AV,TA beige\n\n    classDef lightBlue fill:#ADD8E6,stroke:black\n    class A lightBlue\n</code></pre> <p></p>"},{"location":"crews/market_data/#exec-2--agents","title":"Agents","text":""},{"location":"crews/market_data/#exec-2--fundamental-analyst","title":"Fundamental Analyst","text":"<ul> <li>Role: Fundamental Analyst</li> <li>Goal: Analyze {ticker}'s fundamental data to evaluate the company's profitability and growth potential.</li> <li>Backstory: You are an expert in fundamental analysis of stocks and have a strong understanding of key financial metrics such as revenue growth, earnings per share, and net profit margin.</li> </ul>"},{"location":"crews/market_data/#exec-2--technical-analyst","title":"Technical Analyst","text":"<ul> <li>Role: Technical Analyst</li> <li>Goal: Analyze {ticker}'s historical price data to identify trends and patterns that can help predict future price movements.</li> <li>Backstory: You are an expert in technical indicators for stock prices, and use them to analyze the trend, momentum and volatility of stocks.</li> </ul>"},{"location":"crews/market_data/#exec-2--stock-advisor","title":"Stock Advisor","text":"<ul> <li>Role: Stock Advisor</li> <li>Goal: Provide investment recommendations to whether buy, sell, or hold {ticker} based on fundamental and technical analysis.</li> <li>Backstory: You are a world class stock picker and provide advice to clients based on fundamental and technical analysis.</li> </ul>"},{"location":"crews/market_data/#exec-2--tasks","title":"Tasks","text":""},{"location":"crews/market_data/#exec-2--fundamental-analysis","title":"Fundamental Analysis","text":"<ul> <li>Description: Analyze {ticker}'s fundamental data to evaluate the company's profitability and growth potential. Use the provided tool to analyze total revenue, net income, earnings per share, net profit margin, and possibly other key financial metrics. Use available Trailing Twelve Months (TTM) data in your analysis if necessary.</li> <li>Expected Output: The final answer should be a summary of the company's financial health and growth prospects based on the data available.</li> <li>Agent: fundamental_analyst</li> </ul>"},{"location":"crews/market_data/#exec-2--technical-analysis","title":"Technical Analysis","text":"<ul> <li>Description: Analyze {ticker}'s historical price data to predict future price movements. Use the provided tool to analyze price trends, momentum, and volatility. For momentum use the RSI indicator, and for volatility use the Bollinger Bands percentage indicator. Use the available historical price data in the tool to analyze the stock's price movements.</li> <li>Expected Output: The final answer should be a summary of the company's price trends and potential future price movements based on the data available.</li> <li>Agent: technical_analyst</li> </ul>"},{"location":"crews/market_data/#exec-2--stock-advisor-task","title":"Stock Advisor Task","text":"<ul> <li>Description: Analyze {ticker}'s fundamental and technical data to provide a recommendation on whether to buy, sell, or hold the stock. Use the provided input to analyze both fundamental and technical data for a comprehensive view of the stock's investment potential.</li> <li>Expected Output: The final answer should be a recommendation (buy, sell, or hold) based on the analysis of the company's profitability, historical fundamental data and technical indicators. The recommendation should be supported by the data available, and should be clear and concise. Highlight the latest fundamental and technical data that support your recommendation.</li> <li>Agent: stock_advisor</li> </ul>"},{"location":"crews/news/","title":"News Analysis Crew","text":"<p>The News crew consists of 3 agents with accompanying tasks, and the main goal is to provide a summary of the news articles that are defined by extracting key insights and overview of the sentiment of the news.</p> <p>Illustration of the News Analysis crew:</p> <pre><code>---\nconfig:\n  look: classic\n  theme: neutral\n---\nflowchart LR\n    A[\"News Analyzer\"] --&gt; S[\"News Summarizer\"]\n    B[\"Benzinga News Data\"] --&gt; A\n    SA[\"Sentiment Analyzer\"] --&gt; S\n    B --&gt; SA\n\n    classDef beige fill:#F5F5DC,stroke:black\n    class B beige\n\n    classDef lightBlue fill:#ADD8E6,stroke:black\n    class S lightBlue\n</code></pre> <p></p>"},{"location":"crews/news/#exec-3--agents","title":"Agents","text":""},{"location":"crews/news/#exec-3--news-analyzer","title":"News Analyzer","text":"<ul> <li>Role: Financial News Analyst</li> <li>Goal: Extract and analyze key information from individual news items to provide a deep understanding of events impacting the company {ticker}.</li> <li>Backstory: You are an experienced financial news analyst with a strong focus on identifying key events and interpreting their implications for a company's financial performance and market standing.</li> </ul>"},{"location":"crews/news/#exec-3--sentiment-analyzer","title":"Sentiment Analyzer","text":"<ul> <li>Role: Financial Sentiment Expert</li> <li>Goal: Assess the sentiment of news articles to determine public perception and potential market impacts for {ticker}.</li> <li>Backstory: You are a specialist in sentiment analysis, with deep knowledge of financial markets and an ability to evaluate how media sentiment can influence investor behavior and company reputation.</li> </ul>"},{"location":"crews/news/#exec-3--news-summarizer","title":"News Summarizer","text":"<ul> <li>Role: Financial News Summarizer</li> <li>Goal: Synthesize analyzed data and generate a coherent and insightful summary of news events, market sentiment, and key company updates for {ticker}.</li> <li>Backstory: You are a skilled financial journalist with expertise in summarizing complex financial news into accessible, concise reports that assist stakeholders in making informed decisions.</li> </ul>"},{"location":"crews/news/#exec-3--tasks","title":"Tasks","text":""},{"location":"crews/news/#exec-3--news-analyzer-task","title":"News Analyzer Task","text":"<ul> <li>Description: Analyze recent news articles about the company {ticker} and provide a detailed report highlighting the most impactful events and notable news stories. Focus on events that could significantly affect the company's financial standing or public perception.</li> <li>Expected Output: A comprehensive news analysis report including key events, impactful news stories, and an assessment of their potential implications for the company.</li> <li>Agent: news_analyzer</li> </ul>"},{"location":"crews/news/#exec-3--sentiment-analysis-task","title":"Sentiment Analysis Task","text":"<ul> <li>Description: Conduct a sentiment analysis on the news articles related to {ticker}, determining the overall tone and public perception of the company. Include insights into whether the sentiment is positive, negative, or neutral, and explain the reasons behind this sentiment.</li> <li>Expected Output: A detailed sentiment analysis report that provides an overall sentiment score, categorizes each article by tone, and discusses the potential effects of the sentiment on the company's market position.</li> <li>Agent: sentiment_analyzer</li> </ul>"},{"location":"crews/news/#exec-3--news-summary-task","title":"News Summary Task","text":"<ul> <li>Description: Summarize the key insights from the news articles for {ticker}, providing an overview of important events, market sentiment, and significant company news. The summary should present a holistic view of the news landscape for the company, highlighting both the qualitative and quantitative aspects.</li> <li>Expected Output: A clear and concise news summary report that includes key insights, categorized sections for market sentiment, major events, and relevant company news, with enough detail to inform strategic decision-making.</li> <li>Agent: news_summarizer</li> </ul>"},{"location":"crews/sec/","title":"SEC MD&amp;A and Risk Factors Analysis","text":"<p>The SEC Filing Analysis crew consists of 3 agents and the main goal is to extract the key insights from the sections Management's Discussion and Analysis (MD&amp;A) and Risk Factors of the target SEC Filing. An 10-K or 10-Q filing can be quite an extensive document and time consuming to read. Therefore, the goal is to analyze information from key sections that are not available in the financial statements. The crew does not support tables nor images in the filing, and only focus on the textual information that can be extracted.</p> <p>Illustration of the SEC Filing Analysis crew:</p> <pre><code>---\nconfig:\n  look: classic\n  theme: neutral\n---\nflowchart LR\n    E[\"Filing from EDGAR\"] --&gt; rf[\"SEC Analyst - Risk Factors\"]\n    rf --&gt; S[\"SEC Filing Summarizer\"]\n    E --&gt; mda[\"SEC Analyst - MD&amp;A\"]\n    mda --&gt; S\n\n    classDef beige fill:#F5F5DC,stroke:black\n    class E beige\n\n    classDef lightBlue fill:#ADD8E6,stroke:black\n    class S lightBlue\n</code></pre> <p></p>"},{"location":"crews/sec/#exec-4--agents","title":"Agents","text":""},{"location":"crews/sec/#exec-4--sec-filing-mda-analyzer","title":"SEC Filing MDA Analyzer","text":"<ul> <li>Role: SEC Filing Management's Discussion and Analysis Section Analyst</li> <li>Goal: Analyze {ticker}'s {form} SEC filing to extract information from the Management's Discussion and Analysis section.</li> <li>Backstory: You are an expert in analyzing the Management's Discussion and Analysis (MD&amp;A) section of SEC filings. Your deep understanding of this section allows you to extract critical insights about a company's performance, strategic direction, and management's perspective on future risks and opportunities. Your expertise helps stakeholders gain a nuanced understanding of the company's operational and financial outlook.</li> </ul>"},{"location":"crews/sec/#exec-4--sec-filing-risk-factors-analyzer","title":"SEC Filing Risk Factors Analyzer","text":"<ul> <li>Role: SEC Filing Risk Factors Section Analyst</li> <li>Goal: Analyze {ticker}'s {form} SEC filing to extract information from the Risk Factor's section.</li> <li>Backstory: You are an expert in analyzing the Risk Factors sections of SEC filings, skilled at extracting detailed risk information presented by the company. Your insights help stakeholders understand the potential risks that could impact the company's performance and operations.</li> </ul>"},{"location":"crews/sec/#exec-4--sec-filing-summarizer","title":"SEC Filing Summarizer","text":"<ul> <li>Role: SEC Filing Summarizer</li> <li>Goal: Summarize the information from SEC filing into a concise, easy-to-read report for {ticker}.</li> <li>Backstory: You are a financial writer skilled at synthesizing complex financial and operational information from SEC filings into clear and informative summaries. Your work ensures that stakeholders can easily understand the essential takeaways without delving into the full details of regulatory documents.</li> </ul>"},{"location":"crews/sec/#exec-4--tasks","title":"Tasks","text":""},{"location":"crews/sec/#exec-4--sec-filing-mda-task","title":"SEC Filing MDA Task","text":"<ul> <li>Description: Analyze the {form} SEC filing for the stock ticker {ticker} by using your assigned tool. Focus on the section Management's Discussion and analysis. Extract information about the growth in key market segments, and forward-looking statements from management. Include information about any key products and forward-looking statements from management.</li> <li>Expected Output: The final answer should be a report that includes information about market segments, management discussion, and forward-looking statements from management.</li> <li>Agent: sec_filing_mda_analyzer</li> </ul>"},{"location":"crews/sec/#exec-4--sec-filing-risk-factors-task","title":"SEC Filing Risk Factors Task","text":"<ul> <li>Description: Analyze the {form} SEC filing for the stock ticker {ticker} by using your assigned tool. Focus on the section Risk Factors.</li> <li>Expected Output: The final answer should be a report that includes information about the most important risk factors mentioned in the SEC filing.</li> <li>Agent: sec_filing_risk_factors_analyzer</li> </ul>"},{"location":"crews/sec/#exec-4--sec-filing-summary-task","title":"SEC Filing Summary Task","text":"<ul> <li>Description: Create a summary report for the stock ticker {ticker} {form} SEC filing. Include key insights extracted from the SEC filing with key market segments, key developments and information from Management's Discussion and analysis and Risk Factors sections.</li> <li>Expected Output: A concise summary report that provides key information from the SEC filing, including insights from the Management's Discussion and Analysis and Risk Factors sections.</li> <li>Agent: sec_filing_summarizer</li> </ul>"},{"location":"data/","title":"Data Sources","text":"<p>This is a list of the data sources that have been integrated in this app. Those data sources that require an API Key are marked in the table. Then it is necessary to set those as a environment variable which can be done by copying the <code>.env.template</code> file in the root folder and creating a <code>.env</code> file with the API keys.</p> API Key Name Type Description Yahoo Finance Price data SEC / Edgar Filings Accessed via edgartools Benzinga News Requires registration of Alpaca account Alpha Vantage Fundamental data Limited to 25 calls per day."},{"location":"data/fundamentals/","title":"Fundamentals","text":"<p>Fundamental data consists mainly of the income statement and balance sheet of a company. We extract these data from Alpha Vantage to get a sufficient number of quarterly filing data. The main line items of interest are:</p> <ul> <li>Total Revenue</li> <li>Gross Profit</li> <li>Operating Expenses</li> <li>Net Income</li> <li>Total Shareholder Equity</li> <li>Total Debt</li> <li>Number of Shares Outstanding</li> </ul> <p>From these line items, we can calculate the following metrics and ratios:</p> <ul> <li>Net Profit Margin</li> <li>Earnings per Share (EPS)</li> <li>Price to Earnings Ratio (P/E)</li> <li>Price to Sales Ratio (P/S)</li> <li>Debt to Equity Ratio (D/E)</li> </ul> <p>The processing of the fundamental data and conversion into Markdown tables that can be fed to the LLM models are shown in the StockFundamentalsTool. Especially computation of YoY growth rates is important for evaluating the trend and growth of a company.</p>"},{"location":"data/news/","title":"News","text":""},{"location":"data/news/#benzinga-news","title":"Benzinga News","text":"<p>This News source is accessed through the Alpaca API. It contains historical news articles from Benzinga. The processing of the news articles is done in the BenzingaNewsFecther class. The news articles are converted from HTML to Markdown using the html-to-markdown package. The news articles are filtered so that only news articles that are likely to be relevant to the chosen ticker are used.</p> <p>The following rules are used to filter out news articles:</p> <ul> <li>News articles about options</li> <li>News articles with more than 5 tickers tagged to the article.</li> </ul>"},{"location":"data/sec/","title":"SEC Filings","text":"<p>In this project we have mainly focused on the 10-K (annual) and 10-Q (quarterly) SEC filings. All of the major companies that are listed on NASDAQ or NYSE are required to file these reports. These filings provide information about the historical performance of the company, and also give information about what the future may hold for the company.</p> <p>The filing information is fetched by using the edgartools package in Python, which provides a lot of convenience functions to fetch the filings from the EDGAR database. The SEC filing is downloaded locally, and subsequently parsed to extract specific sections of the filing. So that the LLM agents can focus in on the most relevant information.</p>"},{"location":"data/sec/#which-information-are-interesting-to-extract-from-the-sec-filings","title":"Which information are interesting to extract from the SEC Filings?","text":"<p>The financial statements like income statemen, balance sheet and cash flow statement are already available from other data proivders that can provide such data in a structured format.</p> <p>Therefore the focus of analysis of an SEC filing is more directed towards the unstructured text data that exists in the filings. We have focused particularly on the following sections:</p> <ul> <li>Management's Discussion and Analysis (MD&amp;A)</li> <li>Risk Factors</li> </ul> <p>In these sections there is typically information regarding management's view of the company's performance for that last period (year or quarter), and what are the key risks that the company is facing or will face in the upcoming period.</p>"},{"location":"data/sec/#forward-looking-statements","title":"Forward-looking statements","text":"<p>A key aspect of SEC Filings is that there are a lot of what is called \"forward-looking statements\" from the management in the report. These statements provide information about what are some of the expectations from management about what the future holds for the company. This can indicate what growth trajectory is planned for the company and that can be taken into consideration when analyzing the company.</p>"},{"location":"data/sec/parsing/","title":"SEC Filings Parsing","text":"<p>One of the aspects that make parsing an SEC filing challenging is that each company have a slightly different format for the filing. Therefore we have implemented a custom process to attempt to clean up the HTML content as much as is necessary to get a common format for each filing. Then we extract the headings from the Table of Contents that is always present at the start of the filing. Then the headings can be used to extract the relevant sections from the filing.</p> <p>The process is implemented in the SECFilingParser class and relies heavily on the BeautifulSoup package to parse the HTML content.</p> <p>The following simplified diagram shows the overall steps for the parsing:</p> <pre><code>---\nconfig:\n  layout: elk\n  theme: base\n  look: classic\n---\nflowchart LR\n    F[\"fa:fa-file SEC Filing\"] --&gt; C[\"fa:fa-broom Clean\"]\n    C --&gt; E\n    E[\"fa:fa-list Extract TOC\"] --&gt; RF[\"fa:fa-triangle-exclamation Extract Risk Factors\"]\n    E --&gt; MDA[\"fa:fa-comment-dots Extract MD&amp;A\"]\n\n    classDef lightBlue fill:#ADD8E6,stroke:black\n    class F lightBlue\n\n    classDef strokeBlack stroke:black\n    class E,C strokeBlack\n\n    classDef green fill:#4CAF50,stroke:black\n    class MDA,RF green\n</code></pre>"},{"location":"tutorial/","title":"Tutorial","text":"<p>To get familiar with how to use the FinMAS have a look at the following tutorials:</p> <ul> <li>News Analysis</li> </ul>"},{"location":"tutorial/news/","title":"Tutorial: News Analysis","text":"<ol> <li> <p>Install and start the app as described in the README of the project.</p> </li> <li> <p>The news data is not loaded when you start the app, so the checkbox     for including news data needs to be ticked.</p> </li> <li> <p>Then click the button <code>Fetch Data</code> to download news from the selected source and in the data     range that is specified. This will create a table in the main dashboard where each article     can be inspected. The content as well as the metadata of the article can be viewed.     The news articles are loaded into memory.</p> </li> <li> <p>After the news data have been loaded, it is possible to run the News Analysis crew.     Click on the Crews tab. Configure the parameters if necessary and click the <code>Run Crew</code> button.</p> </li> <li> <p>To create a crew, a Vector Store Index is created from the news articles.     This makes it possible for an LLM to get the most relevant news articles by using     an embedding model.</p> </li> <li> <p>After the Vector Store Index is created, then the Crew is initialized with their     configuration. The analysis will take some time, but when it is finished the     results are displayed in the output area. Metrics for the analysis is also displayed, and     the final result is stored in the output folder.</p> </li> </ol> <p></p>"}]}